"use strict";(self.webpackChunkpetly_frontend=self.webpackChunkpetly_frontend||[]).push([[86],{3115:function(e,t,n){n.d(t,{D:function(){return a},s:function(){return r}});var r=function(e){return e.map((function(e){var t=Object.assign({},e);return Number(e.useCounty)?(t.value="".concat(e.cityEn,",  ").concat(e.countyEn,", ").concat(e.stateEn," region"),t.label="".concat(e.cityEn,",  ").concat(e.countyEn,", ").concat(e.stateEn," region")):(t.value="".concat(e.cityEn,", ").concat(e.stateEn," region"),t.label="".concat(e.cityEn,", ").concat(e.stateEn," region")),t}))},a=function(e){return e.map((function(e){var t=Object.assign({},e);return Number(e.useCounty)?(t.value="".concat(e.city,",  ").concat(e.county,", ").concat(e.state," \u043e\u0431\u043b\u0430\u0441\u0442\u044c"),t.label="".concat(e.city,",  ").concat(e.county,", ").concat(e.state," \u043e\u0431\u043b\u0430\u0441\u0442\u044c")):(t.value="".concat(e.city,", ").concat(e.state," \u043e\u0431\u043b\u0430\u0441\u0442\u044c"),t.label="".concat(e.city,", ").concat(e.state," \u043e\u0431\u043b\u0430\u0441\u0442\u044c")),t}))}},86:function(e,t,n){n.r(t),n.d(t,{default:function(){return G}});var r=n(5861),a=n(9439),o=n(4687),c=n.n(o),s=n(2791),i=n(9434),u=n(7689),l=n(5705),d=n(9230),p=n(1898),h=n(5218),f=n(9273),x=n(319),m=n(3682),y=n(1097),j=n(3037),g=n(3997),v=n(1604),b=n(9001),C=n(3329),k=function(e){var t=(0,s.useState)(!1),n=(0,a.Z)(t,2),r=n[0],o=n[1],c=(0,s.useState)(!1),i=(0,a.Z)(c,2),u=i[0],l=i[1],p=(0,d.$G)().t;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(v.ZP,{type:"email",name:"email",placeholder:p("Email"),errors:e.errors,touched:e.touched,values:e.values.email,required:!0,autoFocus:!0}),(0,C.jsx)(v.jj,{name:"email",component:"div"}),(0,C.jsxs)(g.ZC,{children:[(0,C.jsx)(v.ZP,{id:"password",name:"password",placeholder:p("Password"),type:r?"text":"password",errors:e.errors,touched:e.touched,values:e.values.password,required:!0}),(0,C.jsx)(g.yS,{type:"button",onClick:function(){o(!r)},children:r?(0,C.jsx)(g.rr,{}):(0,C.jsx)(g.OF,{})}),(0,C.jsx)(v.jj,{name:"password",component:"div"})]}),(0,C.jsxs)(g.ZC,{children:[(0,C.jsx)(v.ZP,{id:"confirm",type:u?"text":"password",name:"confirm",placeholder:p("Confirm_Password"),errors:e.errors,touched:e.touched,values:e.values.confirm,required:!0}),(0,C.jsx)(g.yS,{type:"button",onClick:function(){l(!u)},children:u?(0,C.jsx)(g.rr,{}):(0,C.jsx)(g.OF,{})}),(0,C.jsx)(v.jj,{name:"confirm",component:"div"})]}),(0,C.jsx)(v.zx,{type:"button",onClick:e.next,disabled:e.isValid,children:p("Next")}),(0,C.jsxs)(b.tw,{href:"https://petly-backend-flax.vercel.app/api/users/google",children:[(0,C.jsx)(g.DW,{src:j.Z,alt:"Google"}),p("Signup_with_Google")]})]})},Z=n(9593),w=n(5737),E=n.n(w),F=(n(8404),n(922)),S=n(3115),_={},P=function(e){var t=(0,d.$G)().t,n=localStorage.getItem("i18nextLng"),o="en";("uk"===n||n.includes("uk"))&&(o="uk");var i=(0,s.useState)(null),u=(0,a.Z)(i,2),l=u[0],f=u[1],x=(0,s.useState)([]),m=(0,a.Z)(x,2),y=m[0],j=m[1],g=(0,s.useState)(!1),b=(0,a.Z)(g,2),k=b[0],w=b[1];return(0,s.useEffect)((function(){function e(){return(e=(0,r.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l<3)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,w(!0),e.next=6,F.tF.get("api/cities?query=".concat(l,"&lang=").concat(o));case 6:t=e.sent,n=t.data,j("en"===o?(0,S.s)(n):(0,S.D)(n)),w(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),h.ZP.error(p.Z.t("Try_again"));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l,o]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(v.ZP,{type:"text",name:"name",placeholder:t("Name"),errors:e.errors,touched:e.touched,values:e.values.name,required:!0}),(0,C.jsx)(v.jj,{name:"name",component:"div"}),(0,C.jsx)(Z.ZP,{onInputChange:function(e){e.length>=3&&f(e)},options:y,onChange:function(t){return e.forCity(t)},placeholder:t("City_region"),isSearchable:"true",isLoading:k,noOptionsMessage:function(e){var n=e.inputValue;return t(n?"City_notfound":"City_letters")},styles:{control:function(e,t){return{display:"flex",padding:"4px",border:"1px solid #F59256",borderRadius:"20px",backgroundColor:"#FDF7F2",borderColor:t.isSelected?"#3CBC81":"#F59256"}}}}),(0,C.jsx)(v.jj,{name:"city",component:"div"}),(0,C.jsx)(E(),{name:"phone",type:"tel",className:_,onlyCountries:["ua"],country:"ua",countryCodeEditable:!1,errors:e.errors,value:e.values.phone,touched:e.touched,onChange:function(t,n,r){e.setFieldValue("phone","+".concat(t)),t.length<12?r.target.style.border="1px solid #E2001A":r.target.style.border="1px solid #3CBC81"}}),(0,C.jsx)(v.zx,{type:"submit",children:t("Register")}),(0,C.jsx)(v.zx,{type:"button",onClick:e.back,children:t("Back")})]})},V=n(9887),q={email:"",password:"",confirm:"",name:"",city:"",phone:""},G=function(){var e=(0,s.useState)(0),t=(0,a.Z)(e,2),n=t[0],o=t[1],j=(0,d.$G)().t,g=(0,u.TH)();(0,s.useEffect)((function(){document.title="Registration"}),[g]);var b=(0,i.I0)(),Z=function(){o(n+1)},w=function(){o(n-1)},E=function(){var e=(0,r.Z)(c().mark((function e(t,n){var r,a,o,s,i,u,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.email,a=t.password,o=t.name,s=t.city,i=t.phone,u=n.resetForm,s){e.next=5;break}return h.ZP.error(p.Z.t("City_required")),e.abrupt("return");case 5:if(13===i.length){e.next=8;break}return h.ZP.error(p.Z.t("Enter_phone")),e.abrupt("return");case 8:return e.next=10,b((0,f.IU)({email:r,password:a,name:o,city:s,phone:i}));case 10:if("auth/signup/fulfilled"!==(l=e.sent).type){e.next=14;break}return e.next=14,b((0,f.Ib)({email:r,password:a}));case 14:"auth/signup/rejected"===l.type&&h.ZP.error(l.payload.message),u();case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,C.jsx)(m.x,{as:"section",children:(0,C.jsx)(v.lY,{children:(0,C.jsx)(x.W,{children:(0,C.jsxs)(v.bh,{children:[(0,C.jsx)(v.zD,{children:j("Registration")}),(0,C.jsx)(l.J9,{initialValues:q,onSubmit:E,validationSchema:0===n?y.G:y.z5,children:function(e){var t=e.errors,r=e.touched,a=e.isValid,o=e.setFieldValue,c=e.values;return(0,C.jsxs)(v.gR,{autoComplete:"off",children:[0===n&&(0,C.jsx)(k,{next:Z,errors:t,touched:r,isValid:!a,values:c}),1===n&&(0,C.jsx)(P,{back:w,errors:t,touched:r,values:c,setFieldValue:o,forCity:function(e){o("city",e)}})]})}}),(0,C.jsx)(V.Z,{link:"/login",question:j("Is_account"),pageName:j("Log_in")})]})})})})}}}]);
//# sourceMappingURL=86.d0ae4f7b.chunk.js.map